!function(){const t="disabled";const e="items",s="duration",i="repeat",r="loop",a="wait";class n extends(function(e){return class extends e{constructor(){super(...arguments),this._evCount={}}static get observedAttributes(){return[t]}get disabled(){return this._disabled}set disabled(e){this.attr(t,e,"")}attr(t,e,s){this[(e?"set":"remove")+"Attribute"](t,s||e)}to$(t){const e=t%2;return(t-e)/2+"-"+e}incAttr(t){const e=this._evCount;t in e?e[t]++:e[t]=0,this.attr("data-"+t,this.to$(e[t]))}attributeChangedCallback(e,s,i){switch(e){case t:this._disabled=null!==i}}de(t,e,s){const i=t+(s?"":"-changed"),r=new CustomEvent(i,{detail:e,bubbles:!0,composed:!1});return this.dispatchEvent(r),this.incAttr(i),r}_upgradeProperties(t){t.forEach(t=>{if(this.hasOwnProperty(t)){let e=this[t];delete this[t],this[t]=e}})}}}(HTMLElement)){constructor(){super(...arguments),this._idx=-1,this._duration=1e3,this._repeat=1/0,this._t=[]}get idx(){return this._idx}set idx(t){this._idx=t,this.attr("tick",t.toString()),this.value={idx:t,item:this._items&&this._items.length>t?this._items[t]:null,time:new Date},this.de("tick",this.value,!0),this._wait&&(this.disabled=!0),this.onPropsChange()}set enabled(t){t&&(this.disabled=!1)}static get properties(){return[t,e,s,i,r,a]}static get is(){return"time-ticker"}connectedCallback(){this.style.display="none",super._upgradeProperties(n.properties),this._conn=!0,this.onPropsChange()}static get observedAttributes(){return n.properties}get items(){return this._items}set items(t){this._items=t,t&&(this.repeat=t.length)}get duration(){return this._duration}set duration(t){this.attr(s,t.toString())}get repeat(){return this._repeat}set repeat(t){this.attr(i,t.toString())}get loop(){return this._loop}set loop(t){this.attr(r,t,"")}get wait(){return this._wait}set wait(t){this.attr(a,t,"")}attributeChangedCallback(n,h,o){switch(n){case t:this._disabled=null!==o;break;case e:this._items=JSON.parse(o);break;case s:this._duration=parseInt(o);break;case i:this._repeat=parseInt(o);break;case r:case a:this["_"+n]=null!==o}this.onPropsChange()}onPropsChange(){if(!this._disabled&&this._conn)if(-1!==this._idx){if(this._idx>=this._repeat-1){if(!this.loop)return void(this.disabled=!0);this._idx=-1}for(;this._t.length>0;){const t=this._t.pop();clearTimeout(t)}this._t.push(setTimeout(()=>{this.idx++},this._duration))}else this.idx++}}!function(t){let e=t.is;customElements.get(e)?console.warn("Already registered "+e):customElements.define(e,t)}(n)}();